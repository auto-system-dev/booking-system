# 管理後台使用說明

## 🎯 功能介紹

管理後台提供完整的訂房記錄管理功能，讓您可以輕鬆查看和管理所有訂房資料。

## 🚀 訪問方式

### 開啟管理後台

1. **確保伺服器正在運行**
   ```powershell
   & "C:\Program Files\nodejs\node.exe" server.js
   ```

2. **開啟瀏覽器訪問**
   ```
   http://localhost:3000/admin
   ```

## 📋 功能說明

### 1. 訂房記錄管理

#### 主要功能
- ✅ **查看所有訂房記錄**：完整的訂房資料列表
- ✅ **搜尋功能**：可搜尋訂房編號、姓名、Email、電話
- ✅ **篩選功能**：依房型、狀態篩選
- ✅ **分頁顯示**：每頁顯示 10 筆記錄
- ✅ **查看詳情**：點擊「查看」按鈕查看完整訂房資訊

#### 顯示欄位
- 訂房編號
- 客戶姓名
- 聯絡電話
- Email
- 房型
- 入住日期
- 退房日期
- 住宿天數
- 總金額
- 應付金額
- 付款方式
- 郵件狀態（已發送/未發送）
- 訂房時間
- 操作（查看詳情）

#### 使用方式
1. **搜尋訂房記錄**
   - 在搜尋框輸入關鍵字
   - 可搜尋：訂房編號、姓名、Email、電話
   - 即時篩選結果

2. **篩選房型**
   - 選擇「所有房型」或特定房型
   - 自動更新列表

3. **查看詳情**
   - 點擊記錄右側的「查看」按鈕
   - 彈出視窗顯示完整訂房資訊

4. **分頁瀏覽**
   - 使用底部分頁按鈕切換頁面
   - 顯示總筆數和當前頁碼

### 2. 統計資料

#### 主要功能
- ✅ **總訂房數**：所有訂房記錄總數
- ✅ **總營收**：所有訂房的總金額
- ✅ **近7天訂房**：最近 7 天的訂房數量
- ✅ **郵件狀態**：已發送/總數
- ✅ **房型統計**：各房型的訂房數量

#### 使用方式
1. 點擊側邊欄「統計資料」
2. 查看各項統計資訊
3. 點擊「重新整理」更新資料

## 🎨 介面特色

### 設計風格
- 現代化漸層設計
- 響應式佈局（支援手機、平板、電腦）
- 清晰的資料呈現
- 直觀的操作介面

### 側邊欄導航
- 📋 訂房記錄：查看和管理訂房
- 📊 統計資料：查看統計資訊

## 🔍 進階功能

### 搜尋技巧
- 可以搜尋部分關鍵字
- 支援中文和英文搜尋
- 即時顯示搜尋結果

### 篩選組合
- 可以同時使用搜尋和房型篩選
- 篩選條件會自動組合

### 資料更新
- 點擊「重新整理」按鈕更新資料
- 自動從資料庫載入最新資料

## 📱 響應式設計

### 桌面版
- 完整功能顯示
- 側邊欄完整顯示
- 表格完整欄位

### 行動版
- 側邊欄自動收合
- 表格可橫向滾動
- 觸控友善設計

## 🔐 安全性建議

### 目前狀態
- 管理後台目前**沒有身份驗證**
- 任何人都可以訪問

### 建議改進（未來）
1. **加入登入功能**
   - 帳號密碼驗證
   - Session 管理

2. **權限控制**
   - 不同角色權限
   - 操作日誌記錄

3. **API 保護**
   - Token 驗證
   - Rate limiting

## 🛠️ 技術細節

### 使用的 API
- `GET /api/bookings` - 取得所有訂房記錄
- `GET /api/bookings/:bookingId` - 取得單筆訂房詳情
- `GET /api/statistics` - 取得統計資料

### 資料來源
- SQLite 資料庫（`bookings.db`）
- 即時查詢最新資料

## 💡 使用提示

1. **定期重新整理**
   - 建議定期點擊「重新整理」更新資料
   - 確保看到最新的訂房記錄

2. **使用搜尋功能**
   - 當訂房記錄很多時，使用搜尋快速找到特定記錄
   - 可以搜尋客戶姓名或 Email

3. **查看詳情**
   - 點擊「查看」按鈕查看完整的訂房資訊
   - 包含所有訂房細節

4. **統計資料**
   - 定期查看統計資料了解業務狀況
   - 可以分析各房型的受歡迎程度

## 🐛 常見問題

### 問題：無法載入資料
**解決方法：**
- 確認伺服器正在運行
- 檢查資料庫檔案是否存在
- 查看瀏覽器控制台是否有錯誤

### 問題：搜尋沒有結果
**解決方法：**
- 確認搜尋關鍵字是否正確
- 嘗試使用部分關鍵字
- 清除篩選條件

### 問題：統計資料不正確
**解決方法：**
- 點擊「重新整理」按鈕
- 確認資料庫中有訂房記錄

## 📝 下一步

可以考慮新增的功能：
- 匯出訂房記錄（Excel/CSV）
- 編輯訂房記錄
- 取消訂房功能
- 發送提醒郵件
- 列印訂房單據


